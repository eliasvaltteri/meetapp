<script type="text/javascript" src="//maps.google.com/maps/api/js?sensor=false"></script>

<div class="col-md-4">
	<div class="eventphoto">
		<img src="../assets/img/party.png">
	</div>
</div>
<div class="col-md-8">
	<div class="eventinfo">
		<h3>
			<span class="icon first">&#xf24a;</span>{{ currentUser.username }}
		</h3>
		<p>
			<span class="icon middle">&#xf073;</span>{{ currentUser.date }}
		</p>
		<p style="display:flex;align-items:center;">
			<span class="icon last">&#xf041;</span>{{ currentUser.location }}
			<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#mapModal" style="margin-left:auto;margin-right:1em;">
				Open Map
			</button>
		</p>
	</div>
</div>

<div class="col-md-12">
	<div class="eventdesc">
		<span class="icon desc">&#xf10e;</span>
		<p>
			{{ currentUser.description }}
		</p>
	</div>
</div>


<!-- map modal -->
<div id="mapModal" class="modal fade" role="dialog">
	<div class="modal-dialog">

		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-body">
				<iframe style="width:100%;height:400px;border-radius:5px;" frameborder="0" ng-src="{{mapUrl}}" allowfullscreen>
				</iframe>

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>

	</div>
</div>

<script type="text/javascript">
	$("#checkingAddress").click(checkGeocode);

	function checkGeocode(){
		var addr = document.getElementById("location");
        // Get geocoder instance
        var geocoder = new google.maps.Geocoder();

        // Geocode the address
        geocoder.geocode({'address': addr.value}, function(results, status){
        	if (status === google.maps.GeocoderStatus.OK && results.length > 0) {
        		alert('looks good')
                // set it to the correct, formatted address if it's valid
                addr.value = results[0].formatted_address;;

        // show an error if it's not
    }else alert("Invalid address");
});
    };
</script>